<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>JavaScript Sandbox: Section 2</title>
  <link href="https://learn.javascript.ru/pack/styles.ead298d93e9433c2e2d210c1d20fc610.css" rel="stylesheet">
</head>
<body>
  <main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><ol class="breadcrumbs"><li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-1" class="breadcrumbs__item breadcrumbs__item_home"><a href="/" itemprop="url" class="breadcrumbs__link"><span itemprop="title" class="breadcrumbs__hidden-text">Учебник</span></a></li><li id="breadcrumb-1" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-2" itemprop="child" class="breadcrumbs__item"><a href="/js" itemprop="url" class="breadcrumbs__link"><span itemprop="title">Язык JavaScript</span></a></li><li id="breadcrumb-2" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="breadcrumbs__item"><a href="/data-structures" itemprop="url" class="breadcrumbs__link"><span itemprop="title">Структуры данных</span></a></li></ol><h1 class="main__header-title" data-select-like-a-boss="1">Дата и Время</h1></div></header><div class="content"><article itemscope="" itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="Дата и Время"><div itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>Для работы с датой и временем в JavaScript используются объекты <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/">Date</a>.</p>
    <h2><a class="main__anchor" name="создание" href="#создание">Создание</a></h2><p>Для создания нового объекта типа <code>Date</code> используется один из синтаксисов:</p>
    <dl>
    <dt><code>new Date()</code></dt>
    <dd>
    <p>Создает объект <code>Date</code> с текущей датой и временем:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> now <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></dd>
    <dt><code>new Date(milliseconds)</code></dt>
    <dd>
    <p>Создает объект <code>Date</code>, значение которого равно количеству миллисекунд (1/1000 секунды), прошедших с 1 января 1970 года GMT+0.</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token comment">// 24 часа после 01.01.1970 GMT+0</span>
    <span class="token keyword">var</span> Jan02_1970 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> Jan02_1970 <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></dd>
    <dt><code>new Date(datestring)</code></dt>
    <dd>
    <p>Если единственный аргумент – строка, используется вызов <code>Date.parse</code> (см. далее) для чтения даты из неё.</p>
    </dd>
    <dt><code>new Date(year, month, date, hours, minutes, seconds, ms)</code></dt>
    <dd>
    <p>Дату можно создать, используя компоненты в местной временной зоне. Для этого формата обязательны только первые два аргумента. Отсутствующие параметры, начиная с <code>hours</code> считаются равными нулю, а <code>date</code> – единице.</p>
    <p>Заметим:</p>
    </dd>
    </dl>
    <ul>
    <li>
    <p>Год <code>year</code> должен быть из 4 цифр.</p>
    </li>
    <li>
    <p>Отсчет месяцев <code>month</code> начинается с нуля 0.</p>
    <p>Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2011</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// // 1 января 2011, 00:00:00</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2011</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// то же самое, часы/секунды по умолчанию равны 0</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Дата задана с точностью до миллисекунд:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2011</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">567</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> date <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.01.2011, 02:03:04.567</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></li>
    </ul>
    <h2><a class="main__anchor" name="получение-компонентов-даты" href="#получение-компонентов-даты">Получение компонентов даты</a></h2><p>Для доступа к компонентам даты-времени объекта <code>Date</code> используются следующие методы:</p>
    <dl>
    <dt><code>getFullYear()</code></dt>
    <dd>Получить год (из 4 цифр)</dd>
    <dt><code>getMonth()</code></dt>
    <dd>Получить месяц, <strong>от 0 до 11</strong>.</dd>
    <dt><code>getDate()</code></dt>
    <dd>Получить число месяца, от 1 до 31.</dd>
    <dt><code>getHours(), getMinutes(), getSeconds(), getMilliseconds()</code></dt>
    <dd>Получить соответствующие компоненты.</dd>
    </dl>
    <div class="important important_warn">
                <div class="important__header"><span class="important__type">Не <code>getYear()</code>, а <code>getFullYear()</code></span></div>
                <div class="important__content"><p>Некоторые браузеры реализуют нестандартный метод <code>getYear()</code>. Где-то он возвращает только две цифры из года, где-то четыре. Так или иначе, этот метод отсутствует в стандарте JavaScript. Не используйте его. Для получения года есть <code>getFullYear()</code>.</p>
    </div></div>
    <p>Дополнительно можно получить день недели:</p>
    <dl>
    <dt><code>getDay()</code></dt>
    <dd>Получить номер дня в неделе. Неделя в JavaScript начинается с воскресенья, так что результат будет числом <strong>от 0(воскресенье) до 6(суббота)</strong>.</dd>
    </dl>
    <p><strong>Все методы, указанные выше, возвращают результат для местной временной зоны.</strong></p>
    <p>Существуют также UTC-варианты этих методов, возвращающие день, месяц, год и т.п. для зоны GMT+0 (UTC): <code>getUTCFullYear()</code>, <code>getUTCMonth()</code>, <code>getUTCDay()</code>. То есть, сразу после <code>"get"</code> вставляется <code>"UTC"</code>.</p>
    <p>Если ваше локальное время сдвинуто относительно UTC, то следующий код покажет разные часы:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token comment">// текущая дата</span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// час в текущей временной зоне</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// сколько сейчас времени в Лондоне?</span>
    <span class="token comment">// час в зоне GMT+0</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> date<span class="token punctuation">.</span><span class="token function">getUTCHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Кроме описанных выше, существуют два специальных метода без UTC-варианта:</p>
    <dl>
    <dt><code>getTime()</code></dt>
    <dd>
    <p>Возвращает число миллисекунд, прошедших с 1 января 1970 года GMT+0, то есть того же вида, который используется в конструкторе <code>new Date(milliseconds)</code>.</p>
    </dd>
    <dt><code>getTimezoneOffset()</code></dt>
    <dd>
    <p>Возвращает разницу между местным и UTC-временем, в минутах.</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Для GMT-1 выведет 60</span></code><span class="line-numbers-rows"><span></span></span></pre>
            </div>
          </div>
          
          </div></dd>
    </dl>
    <h2><a class="main__anchor" name="установка-компонентов-даты" href="#установка-компонентов-даты">Установка компонентов даты</a></h2><p>Следующие методы позволяют устанавливать компоненты даты и времени:</p>
    <ul>
    <li><code>setFullYear(year [, month, date])</code></li>
    <li><code>setMonth(month [, date])</code></li>
    <li><code>setDate(date)</code></li>
    <li><code>setHours(hour [, min, sec, ms])</code></li>
    <li><code>setMinutes(min [, sec, ms])</code></li>
    <li><code>setSeconds(sec [, ms])</code></li>
    <li><code>setMilliseconds(ms)</code></li>
    <li><code>setTime(milliseconds)</code> (устанавливает всю дату по миллисекундам с 01.01.1970 UTC)</li>
    </ul>
    <p>Все они, кроме <code>setTime()</code>, обладают также UTC-вариантом, например: <code>setUTCHours()</code>.</p>
    <p>Как видно, некоторые методы могут устанавливать несколько компонентов даты одновременно, в частности, <code>setHours</code>. При этом если какая-то компонента не указана, она не меняется. Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">;</span>
    
    today<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> today <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// сегодня, но час изменён на 0</span>
    
    today<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> today <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// сегодня, ровно 00:00:00.</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><h3><a class="main__anchor" name="автоисправление-даты" href="#автоисправление-даты">Автоисправление даты</a></h3><p><em>Автоисправление</em> – очень удобное свойство объектов <code>Date</code>. Оно заключается в том, что можно устанавливать заведомо некорректные компоненты (например 32 января), а объект сам себя поправит.</p>
    <div data-trusted="1" class="code-example" data-highlight-inline="0:26-28" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><code class="inline-highlight">                          <code class="mask">  </code></code><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2013</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 32 января 2013 ?!?</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ... это 1 февраля 2013!</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><strong>Неправильные компоненты даты автоматически распределяются по остальным.</strong></p>
    <p>Например, нужно увеличить на 2 дня дату «28 февраля 2011». Может быть так, что это будет 2 марта, а может быть и 1 марта, если год високосный. Но нам обо всем этом думать не нужно. Просто прибавляем два дня. Остальное сделает <code>Date</code>:</p>
    <div data-trusted="1" class="code-example" data-highlight-block="1-1" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class="block-highlight" data-start="1" data-end="1">
    <code class="mask">
    </code></code><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2011</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 марта, 2011</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Также это используют для получения даты, отдаленной от имеющейся на нужный промежуток времени. Например, получим дату на 70 секунд большую текущей:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// выведет корректную дату</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Можно установить и нулевые, и даже отрицательные компоненты. Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">;</span>
    
    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// поставить первое число месяца</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// нулевого числа нет, будет последнее число предыдущего месяца</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">;</span>
    
    d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// предпоследнее число предыдущего месяца</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><h3><a class="main__anchor" name="преобразование-к-числу-разность-дат" href="#преобразование-к-числу-разность-дат">Преобразование к числу, разность дат</a></h3><p>Когда объект <code>Date</code> используется в числовом контексте, он преобразуется в количество миллисекунд:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token comment">// +date то же самое, что: +date.valueOf()</span></code><span class="line-numbers-rows"><span></span></span></pre>
            </div>
          </div>
          
          </div><p><strong>Важный побочный эффект: даты можно вычитать, результат вычитания объектов <code>Date</code> – их временная разница, в миллисекундах</strong>.</p>
    <p>Это используют для измерения времени:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">;</span> <span class="token comment">// засекли время</span>
    
    <span class="token comment">// что-то сделать</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> doSomething <span class="token operator">=</span> i <span class="token operator">*</span> i <span class="token operator">*</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> end <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">;</span> <span class="token comment">// конец измерения</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">"Цикл занял "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" ms"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><h3><a class="main__anchor" name="бенчмаркинг" href="#бенчмаркинг">Бенчмаркинг</a></h3><p>Допустим, у нас есть несколько вариантов решения задачи, каждый описан функцией.</p>
    <p>Как узнать, какой быстрее?</p>
    <p>Для примера возьмем две функции, которые бегают по массиву:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">walkIn</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">++</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">walkLength</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Чтобы померять, какая из них быстрее, нельзя запустить один раз <code>walkIn</code>, один раз <code>walkLength</code> и замерить разницу. Одноразовый запуск ненадежен, любая мини-помеха исказит результат.</p>
    <p>Для правильного бенчмаркинга функция запускается много раз, чтобы сам тест занял существенное время. Это сведет влияние помех к минимуму. Сложную функцию можно запускать 100 раз, простую – 1000 раз…</p>
    <p>Померяем, какая из функций быстрее:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">walkIn</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">walkLength</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">bench</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">f</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'Время walkIn: '</span> <span class="token operator">+</span> <span class="token function">bench</span><span class="token punctuation">(</span>walkIn<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'мс'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'Время walkLength: '</span> <span class="token operator">+</span> <span class="token function">bench</span><span class="token punctuation">(</span>walkLength<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'мс'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Теперь представим себе, что во время первого бенчмаркинга <code>bench(walkIn)</code> компьютер что-то делал параллельно важное (вдруг) и это занимало ресурсы, а во время второго – перестал. Реальная ситуация? Конечно реальна, особенно на современных ОС, где много процессов одновременно.</p>
    <p><strong>Гораздо более надёжные результаты можно получить, если весь пакет тестов прогнать много раз.</strong></p>
    <div data-trusted="1" class="code-example" data-highlight-block="17-23" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class="block-highlight" data-start="17" data-end="23">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <code class="mask">
    
    
    
    
    
    
    </code></code><code class=" language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">walkIn</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">walkLength</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">bench</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">f</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// bench для каждого теста запустим много раз, чередуя</span>
    <span class="token keyword">var</span> timeIn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      timeLength <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeIn <span class="token operator">+=</span> <span class="token function">bench</span><span class="token punctuation">(</span>walkIn<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timeLength <span class="token operator">+=</span> <span class="token function">bench</span><span class="token punctuation">(</span>walkLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'Время walkIn: '</span> <span class="token operator">+</span> timeIn <span class="token operator">+</span> <span class="token string">'мс'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token string">'Время walkLength: '</span> <span class="token operator">+</span> timeLength <span class="token operator">+</span> <span class="token string">'мс'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><div class="important important_smart">
                <div class="important__header"><span class="important__type">Более точное время с <code>performance.now()</code></span></div>
                <div class="important__content"><p>В современных браузерах (кроме IE9-) вызов <a href="https://developer.mozilla.org/en-US/docs/Web/API/performance.now">performance.now()</a> возвращает количество миллисекунд, прошедшее с начала загрузки страницы. Причём именно с самого начала, до того, как загрузился HTML-файл, если точнее – с момента выгрузки предыдущей страницы из памяти.</p>
    <p>Так что это время включает в себя всё, включая начальное обращение к серверу.</p>
    <p>Его можно посмотреть в любом месте страницы, даже в <code>&lt;head&gt;</code>, чтобы узнать, сколько времени потребовалось браузеру, чтобы до него добраться, включая загрузку HTML.</p>
    <p>Возвращаемое значение измеряется в миллисекундах, но дополнительно имеет точность 3 знака после запятой (до миллионных долей секунды!), поэтому можно использовать его и для более точного бенчмаркинга в том числе.</p>
    </div></div>
    <div class="important important_smart">
                <div class="important__header"><span class="important__type"><code>console.time(метка)</code> и <code>console.timeEnd(метка)</code></span></div>
                <div class="important__content"><p>Для измерения с одновременным выводом результатов в консоли есть методы:</p>
    <ul>
    <li><code>console.time(метка)</code> – включить внутренний хронометр браузера с меткой.</li>
    <li><code>console.timeEnd(метка)</code> – выключить внутренний хронометр браузера с меткой и вывести результат.</li>
    </ul>
    <p>Параметр <code>"метка"</code> используется для идентификации таймера, чтобы можно было делать много замеров одновременно и даже вкладывать измерения друг в друга.</p>
    <p>В коде ниже таймеры <code>walkIn</code>, <code>walkLength</code> – конкретные тесты, а таймер «All Benchmarks» – время «на всё про всё»:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">walkIn</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">walkLength</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">bench</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">f</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">"All Benchmarks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">"walkIn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bench</span><span class="token punctuation">(</span>walkIn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">"walkIn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">"walkLength"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bench</span><span class="token punctuation">(</span>walkLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">"walkLength"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">"All Benchmarks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><strong>При запуске этого примера нужно открыть консоль, иначе вы ничего не увидите.</strong></p>
    </div></div>
    <div class="important important_warn">
                <div class="important__header"><span class="important__type">Внимание, оптимизатор!</span></div>
                <div class="important__content"><p>Современные интерпретаторы JavaScript делают массу оптимизаций, например:</p>
    <ol>
    <li>Автоматически выносят инвариант, то есть постоянное в цикле значение типа <code>arr.length</code>, за пределы цикла.</li>
    <li>Стараются понять, значения какого типа хранит данная переменная или массив, какую структуру имеет объект и, исходя из этого, оптимизировать внутренние алгоритмы.</li>
    <li>Выполняют простейшие операции, например сложение явно заданных чисел и строк, на этапе компиляции.</li>
    <li>Могут обнаружить, что некий код, например присваивание к неиспользуемой локальной переменной, ни на что не влияет и вообще исключить его из выполнения, хотя делают это редко.</li>
    </ol>
    <p>Эти оптимизации могут влиять на результаты тестов, поэтому измерять скорость базовых операций JavaScript («проводить микробенчмаркинг») до того, как вы изучите внутренности JavaScript-интерпретаторов и поймёте, что они реально делают на таком коде, не рекомендуется.</p>
    </div></div>
    <h2><a class="main__anchor" name="форматирование-и-вывод-дат" href="#форматирование-и-вывод-дат">Форматирование и вывод дат</a></h2><p>Во всех браузерах, кроме IE10-, поддерживается новый стандарт <a href="http://www.ecma-international.org/publications/standards/Ecma-402.htm">Ecma 402</a>, который добавляет специальные методы для форматирования дат.</p>
    <p>Это делается вызовом <code>date.toLocaleString(локаль, опции)</code>, в котором можно задать много настроек. Он позволяет указать, какие параметры даты нужно вывести, и ряд настроек вывода, после чего интерпретатор сам сформирует строку.</p>
    <p>Пример с почти всеми параметрами даты и русским, затем английским (США) форматированием:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      era<span class="token punctuation">:</span> <span class="token string">'long'</span><span class="token punctuation">,</span>
      year<span class="token punctuation">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span>
      month<span class="token punctuation">:</span> <span class="token string">'long'</span><span class="token punctuation">,</span>
      day<span class="token punctuation">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span>
      weekday<span class="token punctuation">:</span> <span class="token string">'long'</span><span class="token punctuation">,</span>
      timezone<span class="token punctuation">:</span> <span class="token string">'UTC'</span><span class="token punctuation">,</span>
      hour<span class="token punctuation">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span>
      minute<span class="token punctuation">:</span> <span class="token string">'numeric'</span><span class="token punctuation">,</span>
      second<span class="token punctuation">:</span> <span class="token string">'numeric'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">"ru"</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// среда, 31 декабря 2014 г. н.э. 12:30:00</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">"en-US"</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wednesday, December 31, 2014 Anno Domini 12:30:00 PM</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Вы сможете подробно узнать о них в статье <a href="/intl">Intl: интернационализация в JavaScript</a>, которая посвящена этому стандарту.</p>
    <p><strong>Методы вывода без локализации:</strong></p>
    <p><code>toString()</code>, <code>toDateString()</code>, <code>toTimeString()</code>
    Возвращают стандартное строчное представление, не заданное жёстко в стандарте, а зависящее от браузера. Единственное требование к нему – читаемость человеком. Метод <code>toString</code> возвращает дату целиком, <code>toDateString()</code> и <code>toTimeString()</code> – только дату и время соответственно.</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> d<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// вывод, похожий на 'Wed Jan 26 2011 16:40:50 GMT+0300'</span></code><span class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><code>toUTCString()</code>
    То же самое, что <code>toString()</code>, но дата в зоне UTC.</p>
    <p><code>toISOString()</code>
    Возвращает дату в формате ISO Детали формата будут далее. Поддерживается современными браузерами, не поддерживается IE8-.</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> d<span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// вывод, похожий на '2011-01-26T13:51:50.417Z'</span></code><span class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Если хочется иметь большую гибкость и кросс-браузерность, то также можно воспользоваться специальной библиотекой, например <a href="http://momentjs.com/">Moment.JS</a> или написать свою функцию форматирования.</p>
    <h2><a class="main__anchor" name="разбор-строки-date-parse" href="#разбор-строки-date-parse">Разбор строки, Date.parse</a></h2><p>Все современные браузеры, включая IE9+, понимают даты в упрощённом формате ISO 8601 Extended.</p>
    <p>Этот формат выглядит так: <code>YYYY-MM-DDTHH:mm:ss.sssZ</code>, где:</p>
    <ul>
    <li><code>YYYY-MM-DD</code> – дата в формате год-месяц-день.</li>
    <li>Обычный символ <code>T</code> используется как разделитель.</li>
    <li><code>HH:mm:ss.sss</code> – время: часы-минуты-секунды-миллисекунды.</li>
    <li>Часть <code>'Z'</code> обозначает временную зону – в формате <code>+-hh:mm</code>, либо символ <code>Z</code>, обозначающий UTC. По стандарту её можно не указывать, тогда UTC, но в Safari с этим ошибка, так что лучше указывать всегда.</li>
    </ul>
    <p>Также возможны укороченные варианты, например <code>YYYY-MM-DD</code> или <code>YYYY-MM</code> или даже только <code>YYYY</code>.</p>
    <p>Метод <code>Date.parse(str)</code> разбирает строку <code>str</code> в таком формате и возвращает соответствующее ей количество миллисекунд. Если это невозможно, <code>Date.parse</code> возвращает <code>NaN</code>.</p>
    <p>Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> msUTC <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'2012-01-26T13:51:50.417Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// зона UTC</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> msUTC <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1327571510417 (число миллисекунд)</span></code><span class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>С таймзоной <code>-07:00 GMT</code>:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> ms <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'2012-01-26T13:51:50.417-07:00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> ms <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1327611110417 (число миллисекунд)</span></code><span class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><div class="important important_smart">
                <div class="important__header"><span class="important__type">Формат дат для IE8-</span></div>
                <div class="important__content"><p>До появления спецификации ECMAScript 5 формат не был стандартизован, и браузеры, включая IE8-, имели свои собственные форматы дат. Частично, эти форматы пересекаются.</p>
    <p>Например, код ниже работает везде, включая старые IE:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> ms <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"January 26, 2011 13:51:50"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> ms <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Вы также можете почитать о старых форматах IE в документации к методу  <a href="http://msdn.microsoft.com/en-us/library/k4w173wk%28v=vs.85%29.aspx">MSDN Date.parse</a>.</p>
    <p>Конечно же, сейчас лучше использовать современный формат. Если же нужна поддержка IE8-, то метод <code>Date.parse</code>, как и ряд других современных методов, добавляется библиотекой <a href="https://github.com/kriskowal/es5-shim">es5-shim</a>.</p>
    </div></div>
    <h2><a class="main__anchor" name="метод-date-now" href="#метод-date-now">Метод Date.now()</a></h2><p>Метод <code>Date.now()</code> возвращает дату сразу в виде миллисекунд.</p>
    <p>Технически, он аналогичен вызову <code>+new Date()</code>, но в отличие от него не создаёт промежуточный объект даты, а поэтому – во много раз быстрее.</p>
    <p>Его использование особенно рекомендуется там, где производительность при работе с датами критична. Обычно это не на веб-страницах, а, к примеру, в разработке игр на JavaScript.</p>
    <h2><a class="main__anchor" name="итого" href="#итого">Итого</a></h2><ul>
    <li>Дата и время представлены в JavaScript одним объектом: <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/">Date</a>. Создать «только время» при этом нельзя, оно должно быть с датой. Список методов <code>Date</code> вы можете найти в справочнике <a href="http://javascript.ru/Date">Date</a> или выше.</li>
    <li>Отсчёт месяцев начинается с нуля.</li>
    <li>Отсчёт дней недели (для <code>getDay()</code>) тоже начинается с нуля (и это воскресенье).</li>
    <li>Объект <code>Date</code> удобен тем, что автокорректируется. Благодаря этому легко сдвигать даты.</li>
    <li>При преобразовании к числу объект <code>Date</code> даёт количество миллисекунд, прошедших с 1 января 1970 UTC. Побочное следствие – даты можно вычитать, результатом будет разница в миллисекундах.</li>
    <li>Для получения текущей даты в миллисекундах лучше использовать <code>Date.now()</code>, чтобы не создавать лишний объект <code>Date</code> (кроме IE8-)</li>
    <li>Для бенчмаркинга лучше использовать <code>performance.now()</code> (кроме IE9-), он в 1000 раз точнее.</li>
    </ul>
    </div></article><div class="tasks"><h2 id="tasks" class="tasks__title"><a href="#tasks" class="main__anchor main__anchor_noicon tasks__title-anchor">Задачи</a></h2><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#создайте-дату" name="создайте-дату" class="main__anchor">Создайте дату</a></h3><a href="/task/new-date" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 5</span></div><div class="task__content"><p>Создайте объект <code>Date</code> для даты: 20 февраля 2012 года, 3 часа 12 минут.</p>
    <p>Временная зона – местная. Выведите его на экран.</p>
    <button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Дата в местной временной зоне создается при помощи <code>new Date</code>.</p>
    <p>Месяцы начинаются с нуля, так что февраль имеет номер 1. Параметры можно указывать с точностью до минут:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> d <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#имя-дня-недели" name="имя-дня-недели" class="main__anchor">Имя дня недели</a></h3><a href="/task/get-week-day" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 5</span></div><div class="task__content"><p>Создайте функцию <code>getWeekDay(date)</code>, которая выводит текущий день недели в коротком формате „пн“, „вт“,  … „вс“.</p>
    <p>Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3 января 2012</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// Должно вывести 'вт'</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/3NpbPMyOS9fDsh2ZAsmW?p=preview" target="_blank" data-plunk-id="3NpbPMyOS9fDsh2ZAsmW">Открыть песочницу с тестами для задачи.</a></p><button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Метод <code>getDay()</code> позволяет получить номер дня недели, начиная с воскресенья.</p>
    <p>Запишем имена дней недели в массив, чтобы можно было их достать по номеру:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> days <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'вс'</span><span class="token punctuation">,</span> <span class="token string">'пн'</span><span class="token punctuation">,</span> <span class="token string">'вт'</span><span class="token punctuation">,</span> <span class="token string">'ср'</span><span class="token punctuation">,</span> <span class="token string">'чт'</span><span class="token punctuation">,</span> <span class="token string">'пт'</span><span class="token punctuation">,</span> <span class="token string">'сб'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    
      <span class="token keyword">return</span> days<span class="token punctuation">[</span>date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 января 2014</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'пт'</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>В современных браузерах можно использовать и <code>toLocaleString</code>:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 января 2014</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">'ru'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>weekday<span class="token punctuation">:</span> <span class="token string">'short'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Пт'</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/EWVNghJ2j6FgEMAYJcAh?p=preview" target="_blank" data-plunk-id="EWVNghJ2j6FgEMAYJcAh">Открыть решение с тестами в песочнице.</a></p></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#день-недели-в-европейской-нумерации" name="день-недели-в-европейской-нумерации" class="main__anchor">День недели в европейской нумерации</a></h3><a href="/task/weekday" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 5</span></div><div class="task__content"><p>Напишите функцию, <code>getLocalDay(date)</code> которая возвращает день недели для даты <code>date</code>.</p>
    <p>День нужно возвратить в европейской нумерации, т.е. понедельник имеет номер 1, вторник номер 2, …, воскресенье – номер 7.</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3 янв 2012</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getLocalDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// вторник, выведет 2</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/XiOZnxHXyH2doLP3P8po?p=preview" target="_blank" data-plunk-id="XiOZnxHXyH2doLP3P8po">Открыть песочницу с тестами для задачи.</a></p><button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Решение – в использовании встроенной функции <code>getDay</code>. Она полностью подходит нашим целям, но для воскресенья возвращает 0 вместо 7:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getLocalDay</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
      <span class="token keyword">var</span> day <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>day <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// день 0 становится 7</span>
        day <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token keyword">return</span> day<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getLocalDay</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Если удобнее, чтобы день недели начинался с нуля, то можно возвращать в функции <code>day - 1</code>, тогда дни будут от 0 (пн) до 6(вс).</p>
    <p><a href="http://plnkr.co/edit/0kTKCYZbhw0MjdAy0IVm?p=preview" target="_blank" data-plunk-id="0kTKCYZbhw0MjdAy0IVm">Открыть решение с тестами в песочнице.</a></p></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#день-указанное-количество-дней-назад" name="день-указанное-количество-дней-назад" class="main__anchor">День указанное количество дней назад</a></h3><a href="/task/get-date-ago" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 4</span></div><div class="task__content"><p>Создайте функцию <code>getDateAgo(date, days)</code>, которая возвращает число, которое было <code>days</code> дней назад от даты <code>date</code>.</p>
    <p>Например, для 2 января 2015:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, (1 января 2015)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 31, (31 декабря 2014)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">365</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2, (2 января 2014)</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>P.S. Важная деталь: в процессе вычислений функция не должна менять переданный ей объект <code>date</code>.</p>
    <p><a href="http://plnkr.co/edit/lYFq2Z0lshGsDJPJ9UcF?p=preview" target="_blank" data-plunk-id="lYFq2Z0lshGsDJPJ9UcF">Открыть песочницу с тестами для задачи.</a></p><button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Из даты <code>date</code> нужно вычесть указанное количество дней.  Это просто:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      date<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> days<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Ситуацию осложняет то, что исходный объект даты не должен меняться. Это разумное требование, оно позволит избежать сюрпризов.</p>
    <p>Для того чтобы ему соответствовать, создадим копию объекта даты:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> dateCopy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
      dateCopy<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> days<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> dateCopy<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, (1 января 2015)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 31, (31 декабря 2014)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getDateAgo</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token number">365</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2, (2 января 2014)</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/Q5i0eQvSkyneYcsSKuE7?p=preview" target="_blank" data-plunk-id="Q5i0eQvSkyneYcsSKuE7">Открыть решение с тестами в песочнице.</a></p></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#последний-день-месяца" name="последний-день-месяца" class="main__anchor">Последний день месяца?</a></h3><a href="/task/last-day-of-month" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 5</span></div><div class="task__content"><p>Напишите функцию <code>getLastDayOfMonth(year, month)</code>, которая возвращает последний день месяца.</p>
    <p>Параметры:</p>
    <ul>
    <li><code>year</code> – 4-значный год, например 2012.</li>
    <li><code>month</code> – месяц от 0 до 11.</li>
    </ul>
    <p>Например, <code>getLastDayOfMonth(2012, 1) = 29</code> (високосный год, февраль).</p>
    <p><a href="http://plnkr.co/edit/U7cZUpGweKoDsbX7F2Or?p=preview" target="_blank" data-plunk-id="U7cZUpGweKoDsbX7F2Or">Открыть песочницу с тестами для задачи.</a></p><button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Создадим дату из следующего месяца, но день не первый, а «нулевой» (т.е. предыдущий):</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getLastDayOfMonth</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getLastDayOfMonth</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 31</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getLastDayOfMonth</span><span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 29</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getLastDayOfMonth</span><span class="token punctuation">(</span><span class="token number">2013</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 28</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/ndPHoQAy3mdSroUIWvtM?p=preview" target="_blank" data-plunk-id="ndPHoQAy3mdSroUIWvtM">Открыть решение с тестами в песочнице.</a></p></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#сколько-секунд-уже-прошло-сегодня" name="сколько-секунд-уже-прошло-сегодня" class="main__anchor">Сколько секунд уже прошло сегодня?</a></h3><a href="/task/get-seconds-today" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 5</span></div><div class="task__content"><p>Напишите функцию <code>getSecondsToday()</code> которая возвращает, сколько секунд прошло с начала сегодняшнего дня.</p>
    <p>Например, если сейчас <code>10:00</code> и не было перехода на зимнее/летнее время, то:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">36000</span> <span class="token comment">// (3600 * 10)</span></code><span class="line-numbers-rows"><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Функция должна работать в любой день, т.е. в ней не должно быть конкретного значения сегодняшней даты.</p>
    <button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Для вывода достаточно сгенерировать объект <code>Date</code>, соответствующий началу дня, т.е. «сегодня» 00 часов 00 минут 00 секунд, и вычесть его из текущей даты.</p>
    <p>Полученная разница – это как раз количество миллисекунд от начала дня, которое достаточно поделить на <code>1000</code>, чтобы получить секунды:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
      <span class="token comment">// создать объект из текущей даты, без часов-минут-секунд</span>
      <span class="token keyword">var</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
      <span class="token keyword">var</span> diff <span class="token operator">=</span> now <span class="token operator">-</span> today<span class="token punctuation">;</span> <span class="token comment">// разница в миллисекундах</span>
      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// перевести в секунды</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Альтернативное решение – получить часы/минуты/секунды и преобразовать их все в секунды:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">getSecondsToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> d<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#сколько-секунд-до-завтра" name="сколько-секунд-до-завтра" class="main__anchor">Сколько секунд - до завтра?</a></h3><a href="/task/get-seconds-to-tomorrow" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 5</span></div><div class="task__content"><p>Напишите функцию <code>getSecondsToTomorrow()</code> которая возвращает, сколько секунд осталось до завтра.</p>
    <p>Например, если сейчас <code>23:00</code>, то:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token function">getSecondsToTomorrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3600</span></code><span class="line-numbers-rows"><span></span></span></pre>
            </div>
          </div>
          
          </div><p>P.S. Функция должна работать в любой день, т.е. в ней не должно быть конкретного значения сегодняшней даты.</p>
    <button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Для получения оставшихся до конца дня миллисекунд нужно из «завтра 00 ч 00 мин 00 сек» вычесть текущее время.</p>
    <p>Чтобы сгенерировать «завтра» – увеличим текущую дату на 1 день:</p>
    <div data-trusted="1" class="code-example" data-highlight-inline="4:61-76" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><code class="inline-highlight">
    
    
    
                                                                 <code class="mask">               </code></code><span class="token keyword">function</span> <span class="token function">getSecondsToTomorrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
      <span class="token comment">// создать объект из завтрашней даты, без часов-минут-секунд</span>
      <span class="token keyword">var</span> tomorrow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
      <span class="token keyword">var</span> diff <span class="token operator">=</span> tomorrow <span class="token operator">-</span> now<span class="token punctuation">;</span> <span class="token comment">// разница в миллисекундах</span>
      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// перевести в секунды</span>
    <span class="token punctuation">}</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#вывести-дату-в-формате-дд-мм-гг" name="вывести-дату-в-формате-дд-мм-гг" class="main__anchor">Вывести дату в формате дд.мм.гг</a></h3><a href="/task/format-date-ddmmyy" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 3</span></div><div class="task__content"><p>Напишите функцию <code>formatDate(date)</code>, которая выводит дату <code>date</code> в формате <code>дд.мм.гг</code>:</p>
    <p>Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 30 января 2014</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '30.01.14'</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>P.S. Обратите внимание, ведущие нули должны присутствовать, то есть 1 января 2001 должно быть 01.01.01, а не 1.1.1.</p>
    <p><a href="http://plnkr.co/edit/4EzYeXxhY0NF7gccm625?p=preview" target="_blank" data-plunk-id="4EzYeXxhY0NF7gccm625">Открыть песочницу с тестами для задачи.</a></p><button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Получим компоненты один за другим.</p>
    <ol>
    <li>
    <p>День можно получить как <code>date.getDate()</code>. При необходимости добавим ведущий ноль:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> dd <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dd <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> dd <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> dd<span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></li>
    <li>
    <p><code>date.getMonth()</code> возвратит месяц, начиная с нуля. Увеличим его на 1:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> mm <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// месяц 1-12</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mm <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> mm <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> mm<span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div></li>
    <li>
    <p><code>date.getFullYear()</code> вернет год в 4-значном формате. Чтобы сделать его двузначным – воспользуемся оператором взятия остатка <code>'%'</code>:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">var</span> yy <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>yy <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> yy <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> yy<span class="token punctuation">;</span></code><span class="line-numbers-rows"><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p>Заметим, что год, как и другие компоненты, может понадобиться дополнить нулем слева, причем возможно что <code>yy == 0</code> (например, 2000 год). При сложении со строкой <code>0+'0' == '00'</code>, так что будет все в порядке.</p>
    </li>
    </ol>
    <p>Полный код:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
      <span class="token keyword">var</span> dd <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dd <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> dd <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> dd<span class="token punctuation">;</span>
    
      <span class="token keyword">var</span> mm <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mm <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> mm <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> mm<span class="token punctuation">;</span>
    
      <span class="token keyword">var</span> yy <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>yy <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> yy <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> yy<span class="token punctuation">;</span>
    
      <span class="token keyword">return</span> dd <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> mm <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> yy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 30 Янв 2014</span>
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '30.01.14'</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/OwYlV6qyChrLNdZfJZ3M?p=preview" target="_blank" data-plunk-id="OwYlV6qyChrLNdZfJZ3M">Открыть решение с тестами в песочнице.</a></p></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div><div class="task tasks__task"><div class="task__header"><div class="task__title-wrap"><h3 class="task__title"><a href="#относительное-форматирование-даты" name="относительное-форматирование-даты" class="main__anchor">Относительное форматирование даты</a></h3><a href="/task/format-date-relative" target="_blank" class="task__open-link"></a></div><div class="task__header-note"><span title="Насколько эта задача важна для освоения материала, от 1 до 5" class="task__importance">важность: 4</span></div><div class="task__content"><p>Напишите функцию <code>formatDate(date)</code>, которая форматирует дату <code>date</code> так:</p>
    <ul>
    <li>Если со времени <code>date</code> прошло менее секунды, то возвращает <code>"только что"</code>.</li>
    <li>Иначе если со времени <code>date</code> прошло менее минуты, то <code>"n сек. назад"</code>.</li>
    <li>Иначе если прошло меньше часа, то <code>"m мин. назад"</code>.</li>
    <li>Иначе полная дата в формате <code>"дд.мм.гг чч:мм"</code>.</li>
    </ul>
    <p>Например:</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ваш код */</span> <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "только что"</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "30 сек. назад"</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "5 мин. назад"</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">86400</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// вчерашняя дата в формате "дд.мм.гг чч:мм"</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/WQKC2jQVjVELFk3JEMOT?p=preview" target="_blank" data-plunk-id="WQKC2jQVjVELFk3JEMOT">Открыть песочницу с тестами для задачи.</a></p><button type="button" class="task__solution">решение</button><div class="task__answer"><div class="task__answer-content"><p>Для того, чтобы узнать время от <code>date</code> до текущего момента – используем вычитание дат.</p>
    <div data-trusted="1" class="code-example" data-prism-done="1">
          <div class="codebox code-example__codebox">
            
            <div class="toolbar codebox__toolbar">
              <div class="toolbar__tool">
                <a href="#" title="выполнить" data-action="run" class="toolbar__button toolbar__button_run"></a>
              </div>
              <div class="toolbar__tool">
                <a href="#" title="открыть в песочнице" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>
              </div>
            </div>
            <div class="codebox__code" data-code="1">
              <pre class="line-numbers  language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> diff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> date<span class="token punctuation">;</span> <span class="token comment">// разница в миллисекундах</span>
    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>diff <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// прошло менее 1 секунды</span>
        <span class="token keyword">return</span> <span class="token string">'только что'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token keyword">var</span> sec <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// округлить diff до секунд</span>
    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>sec <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sec <span class="token operator">+</span> <span class="token string">' сек. назад'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>diff <span class="token operator">/</span> <span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// округлить diff до минут</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> min <span class="token operator">+</span> <span class="token string">' мин. назад'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token comment">// форматировать дату, с учетом того, что месяцы начинаются с 0</span>
      <span class="token keyword">var</span> d <span class="token operator">=</span> date<span class="token punctuation">;</span>
      d <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'0'</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'0'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">''</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'0'</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'0'</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
    
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> d<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token keyword">return</span> d<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// только что</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 30 сек. назад</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 мин. назад</span>
    
    <span class="token function">alert</span><span class="token punctuation">(</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">-</span> <span class="token number">86400</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// вчерашняя дата в формате "дд.мм.гг чч:мм"</span></code><span class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre>
            </div>
          </div>
          
          </div><p><a href="http://plnkr.co/edit/Ynli5UQBr7ybbFe3cMuA?p=preview" target="_blank" data-plunk-id="Ynli5UQBr7ybbFe3cMuA">Открыть решение с тестами в песочнице.</a></p></div><button type="button" title="закрыть" class="close-button task__answer-close"></button></div></div></div></div></div><div class="banner-bottom" style="display: flex;"><div class="banner-bottom__text">Проводим <a href="/courses">курсы по Javascript и фреймворкам</a>.</div><button data-banner-close="Courses" data-banner-close-message="Эта информация больше не будет выводиться." title="не показывать" class="banner-bottom__close"></button></div><script>"hideBannerCourses"in localStorage||(document.querySelector(".banner-bottom").style.display="flex");</script><!--if lang == 'en'--><!--  include /blocks/banner-bottom.en--></div><div class="page__nav-wrap"><a href="/arguments-pseudoarray" data-tooltip="Псевдомассив аргументов &quot;arguments&quot;" class="page__nav page__nav_prev"><span class="page__nav-text"><span class="page__nav-text-shortcut">Alt + <span class="page__nav-text-arr">←</span></span></span><span class="page__nav-text-alternate">Предыдущий урок</span></a><a href="/functions-closures" data-tooltip="Замыкания, область видимости" class="page__nav page__nav_next"><span class="page__nav-text"><span class="page__nav-text-shortcut">Alt + <span class="page__nav-text-arr">→</span></span></span><span class="page__nav-text-alternate">Следующий урок</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">Поделиться</span><a href="https://twitter.com/share?url=https%3A%2F%2Flearn.javascript.ru%2Fdatetime" class="share share_tw"></a><a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Flearn.javascript.ru%2Fdatetime" class="share share_fb"></a><a href="https://plus.google.com/share?url=https%3A%2F%2Flearn.javascript.ru%2Fdatetime" class="share share_gp"></a><a href="https://vkontakte.ru/share.php?url=https%3A%2F%2Flearn.javascript.ru%2Fdatetime" class="share share_vk"></a></div><div class="article-tablet-foot__map"><a href="/tutorial/map" data-action="tutorial-map" class="map"><span class="map__text">Карта учебника</span></a></div></div></div><div id="comments" class="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">Комментарии</a></h2><div class="comments__read-before"><span class="comments__read-before-link">перед тем как писать…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>Приветствуются комментарии, содержащие дополнения и вопросы по статье, и ответы на них.</li><li>Для одной строки кода используйте тег <code>&lt;code&gt;</code>, для нескольких строк кода&nbsp;— тег <code>&lt;pre&gt;</code>, если больше 10 строк&nbsp;— ссылку на песочницу (<a href="http://plnkr.co/edit/?p=preview">plnkr</a>, <a href="http://jsbin.com">JSBin</a>, <a href="http://codepen.io">codepen</a>…)</li><li>Если что-то непонятно в статье&nbsp;— пишите, что именно и с какого места.</li></ul></div></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/learn.javascript.ru\/datetime","identifier":"\/datetime","title":"\u0414\u0430\u0442\u0430 \u0438 \u0412\u0440\u0435\u043c\u044f"}); };</script><script>var disqus_shortname = "learnjavascriptru";</script><script>var disqus_enabled = true;</script></main>

  <script src="date.js"></script>
</body>
</html>